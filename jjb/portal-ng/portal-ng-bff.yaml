---
- project:
    name: portal-ng-bff-project-view
    project-name: portal-ng-bff
    views:
      - project-view

- project:
    name: portal-ng-bff-info
    project: portal-ng/bff
    project-name: portal-ng-bff
    build-node: centos8-builder-2c-1g
    branch: master
    jobs:
      - gerrit-info-yaml-verify

- job-template:
    name: "{project-name}-gradle-shell-job"

    scm:
      - lf-infra-gerrit-scm:
          jenkins-ssh-credential: "{jenkins-ssh-credential}"
          git-url: "{git-url}"
          refspec: $GERRIT_REFSPEC
          branch: $GERRIT_BRANCH
          submodule-recursive: "{submodule-recursive}"
          submodule-timeout: "{submodule-timeout}"
          submodule-disable: "{submodule-disable}"
          choosing-strategy: default

    builders:
      - shell: |
          ./gradlew build

- project:
    name: portal-ng-bff-shell
    project-name: "portal-ng-bff"
    project: "portal-ng/bff"
    branch: "master"
    jobs:
      - "{project-name}-shell-job"
      - gerrit-gradle-build
    stream:
      - "master":
          branch: "master"
