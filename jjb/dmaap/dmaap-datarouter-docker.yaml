---
- project:
    name: dmaap-datarouter-docker
    project-name: 'dmaap-datarouter-docker'
	subproject:
      - 'datarouter-prov':
          pom: 'datarouter-prov/pom.xml'
          pattern: 'datarouter-porv/**'
    subproject:
      - 'datarouter-node':
          pom: 'datarouter-node/pom.xml'
          pattern: 'datarouter-node/**'
    jobs:
      - '{project-name}-{stream}-clm'
       - '{project-name}-{stream}-{subproject}-clm'
      - '{project-name}-{stream}-{subproject}-verify-java-checkstyle'
      - '{project-name}-{stream}-{subproject}-merge-properties-java':
         mvn_properties:
            - docker.pull.registry=nexus3.onap.org:10001
            - docker.push.registry=nexus3.onap.org:10003
      - '{project-name}-{stream}-{subproject}-release-java-daily-checkstyle':
         mvn_properties:
          - skipDockerBuild=true
          - skipDockerTag=true
          - skipDockerPush=true
      - '{project-name}-{stream}-{subproject}-docker-java-properties-daily':
         docker-pom: 'pom.xml'
         mvn-profile: 'docker'
         maven-properties: |
          skip.docker.build=false
          skip.docker.tag=false
          skip.docker.push=false
          dmaap-datarouter-docker.registry=$

    project: 'dmaap/datarouter'
    stream:
      - 'master':
          branch: 'master'
    mvn-settings: 'dmaap-datarouter-settings'
    files: '**'
    archive-artifacts: ''
    build-node: ubuntu1604-docker-8c-8g
