---
- project:
    name: integration-project-view
    project-name: integration
    views:
      - project-view

- project:
    name: integration-info
    project-name: integration
    jobs:
      - gerrit-info-yaml-verify
    build-node: centos7-builder-2c-1g
    project: integration
    branch: master

- project:
    name: integration-verify-python
    project-name: integration
    project: integration
    stream:
      - 'master':
          branch: 'master'
      - 'elalto':
          branch: 'elalto'
    mvn-settings: 'integration-settings'
    build-node: 'centos7-builder-4c-4g'
    subproject:
      - 'test-vcpe':
          path: 'test/vcpe'
          pattern: 'test/vcpe/**'
    jobs:
      - '{project-name}-{stream}-{subproject}-verify-python'

- project:
    name: integration-verify-vagrantfile
    project-name: 'integration'
    project: 'integration'

    stream:
      - 'master':
          branch: 'master'

    jobs:
      - '{project-name}-{stream}-verify-vagrantfile'

- project:
    name: integration-verify-golang
    project-name: 'integration'
    project: 'integration'
    golangver: 'golang112'
    mvn-settings: 'integration-settings'
    archive-artifacts: ''
    build-node: ubuntu1604-builder-2c-1g
    jobs:
      - '{project-name}-{stream}-verify-golang':
          script: '{build_script}'
    path: 'test/security/k8s'
    pattern: '{path}/**'
    stream:
      - 'master':
          branch: 'master'
    build_script: |
        #!/bin/bash
        set -ex # Fail build if any setup step fails
        cd test/security/k8s
        make test

- project:
    name: integration-netconf-pnp-simulator
    project: integration
    stream:
      - 'master':
          branch: 'master'
    # Required by verifier
    mvn-settings: 'integration-settings'
    project-name: 'integration-netconf-pnp-simulator'
    gerrit_trigger_file_paths:
      - compare-type: ANT
        pattern: 'test/mocks/netconf-pnp-simulator/engine/**'
    docker-name: 'onap/integration/simulators/netconf-pnp-simulator'
    docker-root: test/mocks/netconf-pnp-simulator/engine
    container-tag-method: yaml-file
    build-node: centos7-docker-8c-8g
    build-timeout: 20
    jobs:
      - gerrit-docker-verify
      - gerrit-docker-merge
