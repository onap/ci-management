---
- project:
    name: offline-installer
    project-name: "offline-installer"
    build-node: "ubuntu1804-docker-8c-8g"
    offline_review_bootstrap: !include-raw-escape: offline-installer-review-bootstrap.sh

    stream:
      - "master":
          branch: "master"
      - "london":
          branch: "london"

    jobs:
      - "{project-name}-{stream}-review":
          build_script: "{offline_review_bootstrap}"

      - gerrit-info-yaml-verify

- project:
    name: offline-installer-linters
    project: oom/offline-installer
    project-name: offline-installer
    python-version: python3
    jobs:
      - integration-linters
    subproject:
      - "py":
          tox-dir: "."
          tox-envs: "py"
          pattern: "**/*.py"
    stream:
      - "master":
          branch: "master"
      - "london":
          branch: "london"

- project:
    name: offline-installer-pytest
    project: oom/offline-installer
    project-name: offline-installer
    build-node: ubuntu1804-docker-8c-8g
    python-version: python3
    jobs:
      - integration-tox-verify
    subproject:
      - "docker-downloader":
          tox-dir: "build/download"
          tox-envs: "pytest"
          pattern: "build/download/**"
    stream:
      - "master":
          branch: "master"
      - "kohn":
          branch: "kohn"
